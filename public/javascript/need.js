// Generated by CoffeeScript 1.3.1
(function() {
  var Need, root;

  Need = (function() {

    Need.name = 'Need';

    function Need(horse) {
      this.horse = horse;
    }

    Need.prototype.__round = function(value) {
      return Math.round(value * 100) / 100;
    };

    Need.prototype.workEnergyInMJ = function() {
      var trotEnergy, walkEnergy;
      walkEnergy = (this.horse.workload['walk'] / 10) * 0.2 * (this.horse.weight / 100);
      trotEnergy = (this.horse.workload['trot'] / 10) * 1.3 * (this.horse.weight / 100);
      return (walkEnergy + trotEnergy) * (this.horse.workload['daysPerWeek'] / 7);
    };

    Need.prototype.energyInMJ = function() {
      var feedTypeFactor, genderFactor;
      feedTypeFactor = genderFactor = 1.00;
      switch (this.horse.feedType) {
        case 'normal':
          feedTypeFactor = 1.05;
          break;
        case 'hard':
          feedTypeFactor = 1.10;
      }
      if (this.horse.gender === 'stallion') {
        genderFactor = 1.10;
      }
      return this.__round((0.5 * Math.pow(this.horse.weight, 0.75) * feedTypeFactor * genderFactor) + this.workEnergyInMJ());
    };

    Need.prototype.proteinInGrams = function() {
      return this.__round(this.energyInMJ() * 6);
    };

    Need.prototype.calciumInGrams = function() {
      return this.__round((this.horse.weight / 100.0) * 4.0);
    };

    Need.prototype.phosphorInGrams = function() {
      return this.__round((this.horse.weight / 100) * 2.8);
    };

    Need.prototype.magnesiumInGrams = function() {
      return this.__round((this.horse.weight / 100) * 1.5);
    };

    Need.prototype.seleniumInMilligrams = function() {
      return this.__round((this.horse.weight / 100) * 0.2);
    };

    Need.prototype.solidsInKilos = function() {
      return this.__round((this.horse.weight / 100) * 1.5);
    };

    return Need;

  })();

  root = typeof exports !== "undefined" && exports !== null ? exports : window;

  root.Need = Need;

}).call(this);
