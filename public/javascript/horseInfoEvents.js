// Generated by CoffeeScript 1.3.1
(function() {
  var horse, need, printNeeds;

  horse = new Horse;

  need = new Need(horse);

  printNeeds = function() {
    jQuery('#need_solids').html(need.solidsInKilos());
    jQuery('#need_energy').html(need.energyInMJ());
    jQuery('#need_protein').html(need.proteinInGrams());
    jQuery('#need_calcium').html(need.calciumInGrams());
    jQuery('#need_phosphor').html(need.phosphorInGrams());
    jQuery('#need_magnesium').html(need.magnesiumInGrams());
    return jQuery('#need_selenium').html(need.seleniumInMilligrams());
  };

  jQuery(function() {
    jQuery('#horseInfo').submit(function() {
      return false;
    });
    jQuery('#weight').keyup(function() {
      try {
        horse.setWeight(jQuery(this).val());
        printNeeds();
        return jQuery('#weight').siblings('.error').html('');
      } catch (err) {
        return jQuery('#weight').siblings('.error').html(err);
      }
    });
    jQuery('input[name=gender]:radio').change(function() {
      horse.setGender(jQuery(this).val());
      return printNeeds();
    });
    jQuery('input[name=feedType]:radio').change(function() {
      horse.setFeedType(jQuery(this).val());
      return printNeeds();
    });
    jQuery('#days-per-week').change(function() {
      horse.setWorkload('daysPerWeek', jQuery(this).val());
      return printNeeds();
    });
    jQuery('#walk').keyup(function() {
      try {
        horse.setWorkload('walk', jQuery(this).val());
        printNeeds();
        return jQuery('#walk').siblings('.error').html('');
      } catch (err) {
        return jQuery('#walk').siblings('.error').html(err);
      }
    });
    return jQuery('#trot').keyup(function() {
      try {
        horse.setWorkload('trot', jQuery(this).val());
        printNeeds();
        return jQuery('#trot').siblings('.error').html('');
      } catch (err) {
        return jQuery('#trot').siblings('.error').html(err);
      }
    });
  });

}).call(this);
